<p-toolbar class="toolbar">
    <h1>Subscribers</h1>
    <div class="p-toolbar-group-end">
        <p-button icon="pi pi-sign-out" styleClass="p-button-success mr-2" routerLink="/login" #tooltip="matTooltip"
            matTooltip="Sign up">
        </p-button>
    </div>
</p-toolbar>

<p-messages severity="info" class="alertMsgNot"></p-messages>
<div class="containerPage">
    <div class="page">
        <div class="menuBar">
            <button type="button" pButton pRipple label="Create Subscriber +" class="p-button-rounded"
                (click)="createSubscriber()">
            </button>
            <!-- <mat-form-field>
                <input type="text" matInput placeholder="Search">
            </mat-form-field> -->
            <div class="searchBtn">
                <p-button icon="pi pi-search" styleClass="p-button-secondary"></p-button>
            </div>
        </div>
        <div class="containerTable">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <!-- Position Column -->
                <ng-container matColumnDef="Id">
                    <th mat-header-cell *matHeaderCellDef> Id </th>
                    <td mat-cell *matCellDef="let element"> {{element.Id}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="Name">
                    <th mat-header-cell *matHeaderCellDef> Name </th>
                    <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
                </ng-container>

                <!-- Weight Column -->
                <ng-container matColumnDef="Email">
                    <th mat-header-cell *matHeaderCellDef> Email </th>
                    <td mat-cell *matCellDef="let element"> {{element.Email}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="Phone Number">
                    <th mat-header-cell *matHeaderCellDef> Phone Number </th>
                    <td mat-cell *matCellDef="let element"> {{element.PhoneNumber}} </td>
                </ng-container>

                <ng-container matColumnDef="Country Name">
                    <th mat-header-cell *matHeaderCellDef> Country Name </th>
                    <td mat-cell *matCellDef="let element"> {{element.CountryName}} </td>
                </ng-container>

                <ng-container matColumnDef="Area">
                    <th mat-header-cell *matHeaderCellDef> Area </th>
                    <td mat-cell *matCellDef="let element"> {{element.Area}} </td>
                </ng-container>

                <ng-container matColumnDef="Subscription State">
                    <th mat-header-cell *matHeaderCellDef>Subscription State</th>
                    <td mat-cell *matCellDef="let element"> {{ element.SubscriptionStateDescription}}</td>
                </ng-container>
                <ng-container matColumnDef="Actions">
                    <th mat-header-cell *matHeaderCellDef> Actions</th>
                    <td mat-cell *matCellDef="let element">
                        <button class="iconBtn" #tooltip="matTooltip" matTooltip="Delete"
                            (click)="openDialog('0ms', '0ms', element)">
                            <mat-icon>delete</mat-icon>
                        </button>
                        <button class="iconBtn" #tooltip="matTooltip" matTooltip="Update" (click)="updateSubs(element)">
                            <mat-icon>update</mat-icon>
                        </button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <div class="containerPaginator">
                <mat-grid-list cols="3" rowHeight="50px">
                    <mat-grid-tile></mat-grid-tile>
                    <mat-grid-tile><strong>{{resultxPage}} of {{countSubs}} Results</strong></mat-grid-tile>
                    <mat-grid-tile>
                        <button class="iconBtn" [disabled]="page === 1" (click)="beforePage()">
                            <mat-icon>navigate_before</mat-icon>
                        </button>
                        <small>Page {{page}} of {{totalPage}}</small>
                        <button class="iconBtn rigthBtn" (click)="nextPage()" [disabled]="validatePaginator()">
                            <mat-icon>navigate_next</mat-icon>
                        </button>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>
        </div>
    </div>
    <app-form [openForm]="crateDialog" [subsUpdate]="subscriberUpdate" (hideForm)="hideDialog($event)"
        *ngIf="crateDialog"></app-form>
</div>